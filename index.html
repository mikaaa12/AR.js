<!DOCTYPE html>
<html>
  <head>
    <title>AR.js with GPS Coordinates</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://cdn.rawgit.com/jeromeetienne/AR.js/2.2.1/aframe/build/aframe-ar.js"></script>
    <style>
      body { margin: 0; overflow: hidden; }
      #inputContainer {
        position: fixed;
        top: 10px;
        left: 10px;
        z-index: 10;
        background: rgba(255, 255, 255, 0.8);
        padding: 10px;
        border-radius: 5px;
      }
    </style>
  </head>
  <body>
    <!-- Form Input Latitude dan Longitude -->
    <div id="inputContainer">
      <label for="latitude">Latitude:</label>
      <input type="number" id="latitude" step="0.000001" placeholder="Contoh: -6.200000"><br>
      <label for="longitude">Longitude:</label>
      <input type="number" id="longitude" step="0.000001" placeholder="Contoh: 106.816666"><br>
      <button onclick="updateLocation()">Set Location</button>
    </div>

    <!-- Scene AR.js -->
    <a-scene embedded arjs="sourceType: webcam; debugUIEnabled: false;">
      <a-entity id="model3D" gps-entity-place 
                position="0 0 0"
                scale="5 5 5" 
                rotation="0 180 0"
                gltf-model="#myModel" 
                visible="false">
      </a-entity>

      <a-assets>
        <!-- Tambahkan model 3D kamu di sini -->
        <a-asset-item id="myModel" src="https://cdn.aframe.io/test-models/models/box/box.gltf"></a-asset-item>
      </a-assets>

      <a-camera gps-camera rotation-reader></a-camera>
    </a-scene>

    <script>
      // Fungsi untuk mengupdate lokasi model berdasarkan input user
      function updateLocation() {
        const latitude = parseFloat(document.getElementById("latitude").value);
        const longitude = parseFloat(document.getElementById("longitude").value);

        if (!isNaN(latitude) && !isNaN(longitude)) {
          const model = document.getElementById("model3D");
          model.setAttribute("gps-entity-place", {
            latitude: latitude,
            longitude: longitude
          });
          model.setAttribute("visible", "true");
          alert(`Model akan ditampilkan di latitude: ${latitude}, longitude: ${longitude}`);
        } else {
          alert("Masukkan latitude dan longitude yang valid!");
        }
      }
    </script>
  </body>
</html>
